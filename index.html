<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Parsis Patel | Marketing Sena</title>
 
<!-- BASIC SEO -->
<meta name="description" content="Parsis Patel ‚Äì Founder & CEO of Marketing Sena. Professional digital business card with contact, gallery and location.">
<meta name="author" content="Marketing Sena">
<link rel="canonical" href="https://marketingsena.github.io/business-card/?slug=marketingsena">

<!-- OPEN GRAPH / SOCIAL SHARE -->
<meta property="og:type" content="website">
<meta property="og:title" content="Parsis Patel | Founder & CEO ‚Äì Marketing Sena">
<meta property="og:description" content="Connect with Parsis from Marketing Sena. Digital business card with contact, gallery and map.">
<meta property="og:url" content="https://marketingsena.github.io/business-card/?slug=marketingsena">
<meta property="og:image" content="https://marketingsena.github.io/business-card/images/share-preview-marketingsena.jpg">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">

<!-- TWITTER CARD -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Parsis Patel | Marketing Sena">
<meta name="twitter:description" content="Professional digital business card">
<meta name="twitter:image" content="https://marketingsena.github.io/business-card/images/share-preview-marketingsena.jpg">

<link rel="stylesheet"
 href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style> 
body{
 margin:0;font-family:Arial;background:#e9eef6;
 display:flex;justify-content:center;
}
.vcard{max-width:420px;width:100%;background:#f2f5fb}

/* HERO */
.hero{
  background:linear-gradient(120deg,#5b8cff,#6dd5ed,#5b8cff);
  background-size:200% 200%;
  animation:heroGradient 6s ease infinite;
  color:#fff;
  text-align:center;
  padding:24px 20px 30px;
}

@keyframes heroGradient{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}

/* PROFILE IMAGE */
.profile-pic{
  width:110px;
  height:110px;
  border-radius:50%;
  object-fit:cover;
  border:4px solid #fff;
  box-shadow:0 0 18px rgba(255,255,255,.6);
  margin-bottom:8px;
}

/* NAME + BADGE ROW */
.hero-name-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:6px;
}

/* FULL NAME */
.hero-name{
  font-size:22px;
  font-weight:700;
  line-height:1.2;
}

/* VERIFIED BADGE */
.verified-badge{
  width:16px;
  height:16px;
  object-fit:contain;
}

/* TITLE */
.hero-title{
  font-size:15px;
  margin-top:6px;
  opacity:.95;
}

/* COMPANY */
.hero-company{
  font-size:14px;
  margin-top:2px;
  opacity:.9;
}

/* QUICK ICONS */
.icon-actions{
 background:#fff;margin:-20px 15px 15px;
 border-radius:20px;padding:15px;
 display:flex;justify-content:space-around;
 box-shadow:0 4px 10px rgba(0,0,0,.1)
}
.icon-actions a{font-size:22px}
.icon-actions a:nth-child(1){color:#5b8cff}
.icon-actions a:nth-child(2){color:#25d366}
.icon-actions a:nth-child(3){color:#e1306c}
.icon-actions a:nth-child(4){color:#1877f2}

.card{
 background:#fff;margin:15px;padding:18px;
 border-radius:18px;
 box-shadow:0 4px 10px rgba(0,0,0,.08)
}

/* HOURS */
.hours{list-style:none;padding:0;margin-top:10px}
.hours li{
 display:flex;justify-content:space-between;
 padding:8px 0;border-bottom:1px dashed #ddd;
 font-size:14px
}
.hours li span:first-child{font-weight:600}

/* SOCIAL LINKS */
.links a{
 display:flex;align-items:center;gap:12px;
 padding:12px;background:#f2f5fb;
 margin-bottom:10px;border-radius:14px;
 text-decoration:none;color:#333
}
.icon{
 width:36px;height:36px;border-radius:50%;
 display:flex;align-items:center;justify-content:center;
 color:#fff
}
.ig{background:#e1306c}
.fb{background:#1877f2}
.li{background:#0077b5}
.web{background:#5b8cff}

/* GALLERY */
.gallery{
 display:grid;grid-template-columns:repeat(2,1fr);
 gap:10px
}
.gallery img{
 width:100%;height:160px;
 border-radius:14px;object-fit:cover;
 cursor:pointer
}

/* FULLSCREEN VIEWER */
.viewer{
 position:fixed;inset:0;background:rgba(0,0,0,.9);
 display:none;align-items:center;justify-content:center;
 z-index:999
}
.viewer img{
 max-width:95%;max-height:95%
}
.nav{
 position:absolute;top:50%;
 transform:translateY(-50%);
 font-size:32px;color:#fff;
 cursor:pointer;padding:12px;
 user-select:none
}
.prev{left:10px}
.next{right:10px}

iframe{width:100%;border-radius:15px;border:0}
</style>
</head>

<body>
<div class="vcard">

<!-- HERO -->
<div class="hero">

 <!-- HERO SKELETON (TEMPORARY) -->
<div id="heroSkeleton">
  <div class="skeleton" style="width:110px;height:110px;border-radius:50%;margin:0 auto 10px"></div>
  <div class="skeleton" style="width:180px;height:22px;margin:0 auto 6px"></div>
  <div class="skeleton" style="width:140px;height:16px;margin:0 auto 4px"></div>
  <div class="skeleton" style="width:120px;height:14px;margin:0 auto"></div>
</div>

  <img id="photo" class="profile-pic">

  <div class="hero-name-row">
    <span id="heroName" class="hero-name"></span>
    <img
      src="https://marketingsena.github.io/business-card/images/verified-badge.png"
      class="verified-badge"
      alt="Verified"
    >
  </div>

  <div class="hero-title" id="title"></div>
  <div class="hero-company" id="company"></div>
</div>

<!-- QUICK ICONS -->
<div class="icon-actions">
 <a id="callBtn"><i class="fa-solid fa-phone"></i></a>
 <a id="whatsappBtn"><i class="fa-brands fa-whatsapp"></i></a>
 <a id="instagramBtn"><i class="fa-brands fa-instagram"></i></a>
 <a id="facebookBtn"><i class="fa-brands fa-facebook-f"></i></a>
</div>

<!-- ADD TO CONTACT -->
<div class="card">
 <button id="saveBtn" style="width:100%;padding:14px;border:0;
 border-radius:14px;background:#5b8cff;color:#fff;font-size:16px">
 ‚ûï Add to Contacts
 </button>
</div>

<!-- CONTACT -->
<div class="card">
 <p><b>Name:</b> <span id="fullName"></span></p>
 <p><b>Company:</b> <span id="company2"></span></p>

 <h4>Hours of Operation</h4>
 <ul class="hours" id="hoursList"></ul>

 <p><b>Address:</b> <span id="address"></span></p>
 <div id="mapBox"></div>
</div>

<!-- SOCIAL LINKS -->
<div class="card" id="linksBox">
 <h3>Social Links</h3>
 <div class="links" id="links"></div>
</div>

<!-- GALLERY -->
<div class="card">
 <h3>Gallery</h3>
 <div class="gallery" id="gallery"></div>
</div>

</div>

<!-- FULLSCREEN VIEWER -->
<div class="viewer" id="viewer">
 <span class="nav prev" onclick="nav(-1,event)">‚ùÆ</span>
 <img id="viewImg">
 <span class="nav next" onclick="nav(1,event)">‚ùØ</span>
</div>

<script>
let DATA,imgs=[],idx=0;
const API="https://script.google.com/macros/s/AKfycbw9xyX1Zh388XgEiFu7ptEYbCBRvegAiwl6DbQqq2FAS1VWnI7DX4sI4pXCQ1quWpsftg/exec";
const slug=new URLSearchParams(location.search).get("slug");

fetch(API+"?slug="+slug).then(r=>r.json()).then(d=>{
 DATA=d;
 photo.src=d.photo_url||"";
 heroName.innerText=d.full_name||"";
 title.innerText=d.title||"";
 company.innerText=d.company||"";

 fullName.innerText=d.full_name||"";
 company2.innerText=d.company||"";
 address.innerText=d.address||"";

 [["Sunday","hours_sunday"],["Monday","hours_monday"],
 ["Tuesday","hours_tuesday"],["Wednesday","hours_wednesday"],
 ["Thursday","hours_thursday"],["Friday","hours_friday"],
 ["Saturday","hours_saturday"]].forEach(x=>{
  if(d[x[1]]) hoursList.innerHTML+=
   `<li><span>${x[0]}</span><span>${d[x[1]]}</span></li>`;
  /* CLEAN URL ‚Äì REMOVE ?slug= */
history.replaceState(null, "", "/business-card/" + slug);
 });

 if(d.map_iframe){
  // iframe me loading="lazy" inject karo
  mapBox.innerHTML = d.map_iframe.replace(
    "<iframe",
    "<iframe loading='lazy'"
  );
} else {
  mapBox.remove();
}

 callBtn.href=d.phone?"tel:"+d.phone:"#";
 whatsappBtn.href=d.whatsapp?"https://wa.me/"+d.whatsapp.replace(/\D/g,""):"#";
 instagramBtn.href=d.instagram||"#";
 facebookBtn.href=d.facebook||"#";

 if(d.instagram) links.innerHTML+=link("Instagram",d.instagram,"ig","fa-instagram");
 if(d.facebook) links.innerHTML+=link("Facebook",d.facebook,"fb","fa-facebook-f");
 if(d.linkedin) links.innerHTML+=link("LinkedIn",d.linkedin,"li","fa-linkedin-in");
 if(d.website) links.innerHTML+=link("Website",d.website,"web","fa-globe");
 if(!links.innerHTML.trim()) linksBox.remove();

 gallery.innerHTML = "";
imgs = [];

// üîπ gallery ko thoda late load karo (lazy feel)
setTimeout(() => {

  for(let i=1;i<=10;i++){
    const key = "gallery_" + i;

    if(d[key]){
      const im = document.createElement("img");
      im.src = d[key];
      im.loading = "lazy";                 // ‚úÖ REAL lazy load
      im.onclick = () => openImg(im.src);
      im.onerror = () => im.remove();

      gallery.appendChild(im);
      imgs.push(im.src);
    }
  }

  // agar gallery empty hai to pura box hata do
  if(!gallery.innerHTML.trim()){
    galleryBox.remove();
  }

}, 500);

});

function openImg(src){
 idx=imgs.indexOf(src);
 viewImg.src=src;
 viewer.style.display="flex";
}
function nav(n,e){
 e.stopPropagation();
 idx=(idx+n+imgs.length)%imgs.length;
 viewImg.src=imgs[idx];
}
viewer.onclick=()=>viewer.style.display="none";

saveBtn.onclick=()=>{
 const v=`BEGIN:VCARD
VERSION:3.0
FN:${DATA.full_name}
ORG:${DATA.company}
TITLE:${DATA.title}
TEL:${DATA.phone}
END:VCARD`;
 const a=document.createElement("a");
 a.href=URL.createObjectURL(new Blob([v],{type:"text/vcard"}));
 a.download=DATA.full_name+".vcf";
 a.click();
};

function link(label,url,color,icon){
 return `<a href="${url}" target="_blank">
  <span class="icon ${color}"><i class="fa-brands ${icon}"></i></span>${label}
 </a>`;
}
</script>

</body>
</html>
